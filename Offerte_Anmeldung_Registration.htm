<cms type="masterPage" value="masterpage.htm"></cms>

<!--
<div class="hidden-xs spacer">
    <div class="progressbarMain row">
        <ul class="progressbar col-sm-10 mx-auto d-flex flex-row justify-content-center">
            <li class="active active-line">1. Registreiren / Anmelden</li>
            <li class="active-line">2. Adresse</li>
            <li class="active-line">3. Offerte</li>
            <li class="">4. Bezahlung</li>
        </ul>
    </div>
</div>
-->

<div class="col-sm-12 col-md-6 content-box bestellung">
    <div id="warenkorbOfferte">
        <h3 class="pb-3">Ihre Bestellung</h3>
        <cms type="shopModul" value="warenkorbArtikelListe">
            <div class="pr-2 pb-3 d-flex">
                <!--<div class="pr-4">
          <cms type="methode" value="fisVLBilder" parameter="{0}" defaultvalue="" startitem="" maximum="1" pageoutput="false">
            <cms class="img-warenkorb" type="outputTag" value="img" src="http://demoshop.faros.ch/images/artikel/{0}" onerror="this.onerror=null;this.src='http://demoshop.faros.ch/httpfiles/shntestabotopic/images/artikel/no-image-available.png';">
            </cms>
          </cms>
        </div>-->
                <div class="pr-4">
                    <p><b><cms type="outputTag" value="span">{2}x {1}</cms></b></p>
                    <p>
                        <cms type="outputTag" value="span">{3}</cms> CHF</p>
                    <cms type="outputTag" value="a" class="pointer" href="/shop/removeItem?itemID={0}&showCard=true" onclick="javascript:return confirm('Artikel wirklich entfernen?')" title="Artikel entfernen"><b>Entfernen</b></cms>
                </div>
            </div>
        </cms>

        <!-- Modal content-->
        <div class="dispNone DV_WarenkorbEmpty">
            <div class="alert alert-danger">
                <h4><span class="glyphicon glyphicon-shopping-cart"></span> Keine Artikel im Warenkorb.</h4>
            </div>

        </div>
        <div class="text-center">
            <cms type="shopModul" value="warenkorbTotalBetrag">
                <cms type="outputTag" value="h4">BRUTTOPREIS: {1} CHF</cms>
            </cms>
        </div>
    </div>
</div>
<!-- ENDE: Warenkorb Offerte -->

<!-- START: Registration Offerte -->

<div class="col-sm-12 col-md-6 content-box">
    <h3>Persönliche Angaben</h3>
    <p>Sie haben bereits ein Konto? Dann <a class="btn-link" href="#" onclick="login()" id="registrationLogin">melden Sie sich hier an</a>, um die Bestellung schneller abzuschliessen.</p>
    <form action="/shop/registerUser" method="post" data-toggle="validator">
        <input type="hidden" name="registerOK_hidden" value="/?Offerte_Angemeldet">

        <h4><b>Konto</b></h4>

        <div class="form-group row">
            <label for="EmailAdr" class="col-sm-12 col-form-label">E-Mail-Adresse*:</label>
            <div class="col-sm-12">
                <input type="email" class="form-control checkme" id="EmailAdr" name="EmailAdr" placeholder="E-Mail-Adresse erfassen" data-error="ungültige E-Mail-Adresse" required>
                <div class="help-block with-errors"></div>
            </div>
        </div>

        <div class="form-group row">
            <label for="passwort" class="col-sm-12 col-form-label">Passwort*:</label>
            <div class="col-sm-6">
                <div class="input-group">
                    <input type="password" minlength="6" tabindex="0" class="form-control pwd checkme" id="passwort" name="passwort" placeholder="Passwort" required>
                    <span class="input-group-btn">
                            <button class="btn btn-default btnPWEye reveal" tabindex="-1" type="button" onclick="showPW()"><i class="glyphicon glyphicon-eye-open"></i></button>
                        </span>
                </div>
                <span class="help-block">Minimal 6 Zeichen</span>
            </div>
            <div class="col-sm-6">
                <div class="input-group">
                    <input type="password" minlength="6" class="form-control pwd checkme" tabindex="0" id="passwort_hidden" name="passwort_hidden" data-match="#passwort" data-match-error="Passwörter sind nicht identisch" placeholder="Passwort wiederholen" required>
                    <span class="input-group-btn">
                            <button class="btn btn-default btnPWEye reveal" tabindex="-1" type="button" onclick="showSecondPW()"><i class="glyphicon glyphicon-eye-open"></i></button>
                        </span>
                </div>
                <div class="help-block with-errors"></div>
            </div>
        </div>

        <h4><b>Weitere Angaben</b></h4>


        <div class="form-group row">
            <label for="AdrTyp-0" class="col-sm-3 col-form-label">Sie sind eine:</label>
            <div class="col-sm-9">
                <label class="radio-inline" for="AdrTyp-0">
                        <input type="radio" name="AdrTyp" id="AdrTyp-0" value="0" checked="checked">Person
                    </label>
                <label class="radio-inline" for="AdrTyp-1">
                        <input type="radio" name="AdrTyp" id="AdrTyp-1" value="1">Firma
                    </label>
            </div>
        </div>

        <div class="form-group row registerFirma" style="display:none;">
            <label for="Firmaname" class="col-sm-3 col-form-label">Firma*:</label>
            <div class="col-sm-9">
                <input type="text" class="form-control checkme" id="Firmaname" name="Firmaname" placeholder="Firmenname erfassen" required>
            </div>
        </div>

        <div class="form-group row registerFirma" style="display:none;">
            <div class="col-sm-6">
                <b>Kontaktperson</b>
            </div>
        </div>


        <div class="form-group row">
            <label for="Anrede" class="col-sm-3 col-form-label">Anrede:</label>
            <div class="col-sm-9">
                <label class="radio-inline" for="AnredeHerr">
                        <input type="radio" name="Anrede" id="AnredeHerr" value="01" required>Herr
                    </label>
                <label class="radio-inline" for="AnredeFrau">
                        <input type="radio" name="Anrede" id="AnredeFrau" value="02">Frau
                    </label>
                <label class="radio-inline hidden" for="Anrede">
                        <input type="radio" name="Anrede" id="Anrede" value="00">Firma
                    </label>
            </div>
        </div>

        <div class="form-group row">
            <label for="Name" class="col-sm-3 col-form-label">Name*:</label>
            <div class="col-sm-9">
                <input type="text" class="form-control checkme" id="Name" name="Name" placeholder="Nachname erfassen" required>
            </div>
        </div>

        <div class="form-group row">
            <label for="Vorname" class="col-sm-3 col-form-label">Vorname*:</label>
            <div class="col-sm-9">
                <input type="text" class="form-control checkme" id="Vorname" name="Vorname" placeholder="Vorname erfassen" required>
            </div>
        </div>

        <div class="form-group row">
            <label for="Strasse" class="col-sm-3  control-label">Strasse*:</label>
            <div class="col-sm-7">
                <input type="text" class="form-control checkme" id="Strasse" name="Strasse" placeholder="Strasse eingeben" required>
            </div>
            <div class="offertSpacer visible-xs"></div>
            <div class="col-sm-2">
                <input type="text" class="form-control checkme" id="Hausnummer" name="Hausnummer" placeholder="Nr." required>
            </div>
        </div>

        <div class="form-group row">
            <label for="PLZ" class="col-sm-3 col-form-label">PLZ / Ort*:</label>
            <div class="col-sm-3">
                <input type="text" class="form-control checkme" id="PLZ" name="PLZ" placeholder="PLZ erfassen" required>
            </div>
            <div class="offertSpacer visible-xs"></div>
            <div class="col-sm-6">
                <input type="text" class="form-control checkme" id="Ort" name="Ort" placeholder="Ort erfassen" required>
            </div>
        </div>

        <div class="form-group row">
            <label for="Postfach" class="col-sm-3 col-form-label">Postfach:</label>
            <div class="col-sm-9">
                <input type="text" class="form-control" id="Postfach" name="Postfach" placeholder="Postfach eingeben">
            </div>
        </div>

        <div class="form-group row">
            <label for="Land" class="col-sm-3 col-form-label">Land*:</label>
            <div class="col-sm-9">
                <select class="form-control" id="Land" name="Land">
                        <option value="CH">Schweiz</option>
                        <option value="DE">Deutschland</option>
                        <option value="AT">Österreich</option>
                        <option value="IT">Italien</option>
                    </select>
            </div>
        </div>

        <div class="form-group row">
            <label for="gebdatum" class="col-sm-3 col-form-label">Geb. Datum:</label>
            <div class="col-sm-9">
                <input type="text" class="form-control" id="gebdatum" name="gebdatum" placeholder="TT.MM.JJJJ">
            </div>
        </div>

        <div class="form-group row">
            <div class="col-sm-12">
                <input type="checkbox" name="checkAGB" value="true" required>
                <a class="link btn-link" href="https://zofingertagblatt.ch/agb" target="_blank">
                        Ich habe die allgemeinen Geschäftsbedingungen gelesen und bin damit einverstanden
                    </a>
                </label>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-sm-4"></div>
            <div class="col-sm-4"></div>
            <div class="col-sm-4">
                <div class="form-action"><input id="AdrSaveBtn" type="submit" onclick="PWcheck()" value="Registrieren" class="btn btn-md btn-primary btn-block btn-clr"></div>
            </div>
        </div>
        <a class="aHoverRed float-right" href="/?home">zurück</a>
    </form>
</div>


<script>
    // init form swichter 
    if ($('#AdrTyp-0').attr("value") == "0") {
        $(".registerFirma").hide();
        // required wegen validator entfernen
        $("#Firmaname").removeAttr("required");
    } else {
        $(".registerFirma").show();
        // required wegen validator setzen
        $("#Firmaname").attr("required", "true");
    }

    //form switcher function by click
    $('input[name="AdrTyp"]:radio').click(function() {
        if ($(this).attr("value") == "0") {
            // required wegen validator entfernen
            $(".registerFirma").hide();
            $("#Firmaname").removeAttr("required");
        } else {
            // required wegen validator setzen
            $(".registerFirma").show();
            $("#Firmaname").attr("required", "true");
        }
    });
</script>